<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8">
    <title>Modern OpenGL</title>
    <meta name="description" content="Modern OpenGL">
    <meta name="author" content="Philip Rideout">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="css/style.css">

    <link rel="stylesheet" title="Solarized - Dark" href="highlight/styles/sunburst.css">
    <!--link rel="stylesheet" title="Solarized - Dark" href="highlight/styles/arta.css"-->

    <script type="text/javascript" src="http://use.typekit.com/xhp5ioy.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <script src="js/libs/modernizr-2.5.3.min.js"></script>
    <script src="highlight/highlight.js"></script>
    <script src="highlight/languages/cpp.js"></script>
    <script src="highlight/languages/glsl.js"></script>
    <script>
      hljs.tabReplace = '    ';
      hljs.initHighlightingOnLoad();
    </script>
  </head>
  <body>
    <header>
    </header>

    <!-- Deprecated -->
    <!-- Font: SteelFish or Coolvetica
         Color: Kindled
         Layout: Horizontal -->
      <form action="http://www.wordle.net/advanced" method="POST">
        <textarea name="wordcounts" style="display:none">
          texture2D():50
          ftransform():25
          attribute:100
          varying:100
          gl-FragColor:50
          gl-FragData:50
          gl-ClipPlane:10
          gl-ModelviewProjection:25
          gl-ClipVertex:50
          gl-Color:50
          gl-SecondaryColor:10
          gl-MultiTexCoord0:10
          gl-MultiTexCoord1:10
          gl-MultiTexCoord2:10
          gl-MultiTexCoord3:10
          gl-MultiTexCoord4:10
          gl-MultiTexCoord5:10
          gl-MultiTexCoord6:10
          gl-MultiTexCoord7:10
          gl-FogCoord:10
        </textarea>
        <input type="submit" value="deprecated wordcloud">
      </form>

      <form action="http://www.wordle.net/advanced" method="POST">
        <textarea name="wordcounts" style="display:none">
          gl-ClipDistance[]:10
          texture():50
          textureSize():50
          textureQueryLod():50
          texelFetch():50
          bitfieldExtract():50
          imageLoad():50
          imageStore():50
          imageAtomicAdd():50
          in:100
          out:100
          gl-InvocationID:50
          gl-Layer:50
          gl-ViewportIndex:50
          gl-PrimitiveIDIn:50
          gl-TessLevelInner:75
          gl-TessLevelOuter:75
          layout:100
        </textarea>
        <input type="submit" value="modern wordcloud">
      </form>

    <!--
       Target Audience: You used OpenGL back in the day and want to catch up.
       Disclaimer: won't go through everything.  Not necessarily focused on GLSL or on techniques.  This isn't comprehensive either.
       If this goes well then I might give more talks (GLSL for shading TD's, OpenGL Techniques)
      -->
    <div class="slide">
      <p class="cover-page tk-raleway">
        <b class="bluish">Modern</b> OpenGL
      </p>
    </div>

    <!-- Summary -->
    <div class="slide">
      <ul class="items tk-raleway orangish">
        <li>Brief History of OpenGL</li>
        <li>Whirlwind Tour of OpenGL 4.2</li>
        <li>Demos & Code Walkthroughs</li>
      </ul>
    </div>

    <!-- Pipeline diagram VS FS -->
    <div class="slide">
      <table style="width:100%;height:100%">
        <tr>
          <td style="width:40%">
            <div class="codewrapper">
              <pre><code class="glsl">// Vertex Shader
varying vec4 vPosition;
varying vec2 vTexCoord;
varying vec3 vNormal;
void main() {
  vPosition = gl_ModelViewMatrix * gl_Vertex;
  vNormal = gl_NormalMatrix * gl_Normal;
  vTexCoord = gl_MultiTexCoord0.st;
  gl_Position = ftransform();
}</code></pre>
            </div>
            <div class="codewrapper">
              <pre><code class="glsl">// Fragment Shader
uniform sampler2D Baboon;
uniform vec3 LightDir;
varying vec2 vTexCoord;
varying vec3 vNormal;
void main() {
  float df = dot(LightDir,vNormal);
  vec3 c = df * texture2D(Baboon, vTexCoord).rgb;
  gl_FragColor = vec4(c, 1);
}</code></pre>
            </div>
          </td>
          <td style="width:40%">
          </td>
          <td>
            <object type="image/svg+xml" class="figure"
                    data="images/Pipeline1.svg">
            </object>
          </td>
        </tr>
      </table>
    </div>

    <!-- Pipeline diagram VS GS FS -->
    <div class="slide">
      <table style="width:100%;height:100%">
        <tr>
          <td style="width:40%">
            <div class="codewrapper">
              <pre><code class="glsl">// Vertex Shader
<span class="HIGH">in</span> vec4 Position;
in vec2 TexCoord;
<span class="HIGH">out</span> vec4 vPosition;
out vec2 vTexCoord;
uniform mat4 ModelViewMatrix, MVP;
void main() {
    vPosition = ModelViewMatrix * Position;
    vTexCoord = TexCoord;
    gl_Position = MVP * Position;
}</code></pre>
            </div>
            <div class="codewrapper">
              <pre><code class="glsl">// Geometry Shader
<span class="HIGH">layout</span>(triangles) in;
layout(triangle_strip, max_vertices = 3) out;
in vec3 vPosition[3];
in vec2 vTexCoord[3];
out vec3 gNormal;
out vec2 gTexCoord;

void main()
{
    vec3 A = vPosition[2] - vPosition[0];
    vec3 B = vPosition[1] - vPosition[0];
    gNormal = normalize(cross(A, B));

    for (int j = 0; j &lt; 3; j++) {
        gTexCoord = vTexCoord[j];
        gl_Position = gl_in[j].gl_Position;
        EmitVertex();
    }
    EndPrimitive();
}</code></pre>
            </div>
          </td>
          <td style="width:40%">
            <div class="codewrapper">
              <pre><code class="glsl">// Fragment Shader
uniform sampler2D Baboon;
uniform vec3 LightDir <span class="HIGH">= vec3(0,0,1)</span>;
in vec2 gTexCoord;
in vec3 gNormal;
void main() {
	float df = dot(LightDir,gNormal);
    vec3 c = df*texture2D(Baboon, gTexCoord).rgb;
    gl_FragColor = vec4(c, 1);
}</code></pre>
            </div>
          </td>
          <td>
            <object type="image/svg+xml" class="figure"
                    data="images/Pipeline2.svg">
            </object>
          </td>
        </tr>
      </table>
    </div>

    <!-- Pipeline diagram VS TCS TESS TES GS FS -->
    <!-- Not going to get this functionality on Lion! -->
    <div class="slide">
      <table style="width:100%;height:100%">
        <tr>
          <td style="width:40%">
            <div class="codewrapper">
              <pre><code class="glsl">// Vertex Shader
in vec4 Position;
in vec2 TexCoord;
out vec4 vPosition;
out vec2 vTexCoord;
uniform mat4 ModelViewMatrix, MVP;
void main() {
    vPosition = ModelViewMatrix * Position;
    vTexCoord = TexCoord;
    gl_Position = MVP * Position;
}</code></pre>
            </div>
            <div class="codewrapper">
              <pre><code class="glsl">// Tessellation Control Shader
layout(triangles) in;
layout(triangle_strip, max_vertices = 3) out;
in vec3 vPosition[3];
in vec2 vTexCoord[3];
out vec3 gNormal;
out vec2 gTexCoord;

void main()
{
    for (int j = 0; j &lt; 3; j++) {
        gTexCoord = vTexCoord[j];
        gl_Position = gl_in[j].gl_Position;
        EmitVertex();
    }
    EndPrimitive();
}</code></pre>
            </div>
            <div class="codewrapper">
              <pre><code class="glsl">// Tessellation Evaluation Shader
uniform sampler2D Baboon;
in vec2 gTexCoord;
in vec3 gNormal;

void main() {
	float df = dot(vec3(0,0,1),gNormal);
    vec3 c = df*texture2D(Baboon, gTexCoord).rgb;
    gl_FragColor = vec4(c, 1);
}</code></pre>
            </div>
          </td>
          <td style="width:40%">
            <div class="codewrapper">
              <pre><code class="glsl">// Geometry Shader
layout(triangles) in;
layout(triangle_strip, max_vertices = 3) out;
in vec3 vPosition[3];
in vec2 vTexCoord[3];
out vec3 gNormal;
out vec2 gTexCoord;

void main()
{
    vec3 A = vPosition[2] - vPosition[0];
    vec3 B = vPosition[1] - vPosition[0];
    gNormal = normalize(cross(A, B));

    for (int j = 0; j &lt; 3; j++) {
        gTexCoord = vTexCoord[j];
        gl_Position = gl_in[j].gl_Position;
        EmitVertex();
    }
    EndPrimitive();
}</code></pre>
            </div>
            <div class="codewrapper">
              <pre><code class="glsl">// Fragment Shader
# LOOK AT BARREL DISTORTATION.
# USE CHRISTOPHE'S INTERFACES.
# EXPLICIT BINDINGS.
uniform sampler2D Baboon;
uniform vec3 LightDir = vec3(0,0,1);
in vec2 gTexCoord;
in vec3 gNormal;
void main() {
	float df = dot(LightDir,gNormal);
    vec3 c = df*<span class="HIGH">texture</span>(Baboon, gTexCoord).rgb;
    gl_FragColor = vec4(c, 1);
}</code></pre>
            </div>
          </td>
          <td>
            <object type="image/svg+xml" class="figure"
                    data="images/Pipeline3.svg">
            </object>
          </td>
        </tr>
      </table>
    </div>

    <div class="slide">
      <a href="http://www.wordle.net/show/wrdl/5094008/Deprecated_GLSL" 
         title="Wordle: Deprecated GLSL">
        <img
           src="http://www.wordle.net/thumb/wrdl/5094008/Deprecated_GLSL"
           alt="Wordle: Deprecated GLSL"
           style="padding:4px;border:1px solid #ddd">
      </a>
      <a href="http://www.wordle.net/show/wrdl/5094039/Modern_GLSL" 
          title="Wordle: Modern GLSL">
        <img
           src="http://www.wordle.net/thumb/wrdl/5094039/Modern_GLSL"
           alt="Wordle: Modern GLSL"
           style="padding:4px;border:1px solid #ddd">
      </a>
    </div>

    <footer>
    </footer>
    <script src="js/script.js"></script>
  </body>
</html>
