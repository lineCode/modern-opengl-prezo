<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8">
    <title>Modern OpenGL</title>
    <meta name="description" content="Modern OpenGL">
    <meta name="author" content="Philip Rideout">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="css/style.css">

    <link rel="stylesheet" title="Solarized - Dark" href="highlight/styles/sunburst.css">
    <!--link rel="stylesheet" title="Solarized - Dark" href="highlight/styles/arta.css"-->

    <script type="text/javascript" src="http://use.typekit.com/xhp5ioy.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <script src="js/libs/modernizr-2.5.3.min.js"></script>
    <script src="highlight/highlight.js"></script>
    <script src="highlight/languages/cpp.js"></script>
    <script src="highlight/languages/glsl.js"></script>
    <script>
      hljs.tabReplace = '    ';
      hljs.initHighlightingOnLoad();
    </script>
  </head>
  <body>
    <header>
    </header>

    <div class="noprint tk-museo-sans" style="font-size:100%;font-weight:800;margin:20px">
      <style>
        A:link { color : #007fff }
        A:active { color : #007fff }
        A:visited { color : #007fff }
        A:hover { color : #0000ff }
      </style>
      <a href="Modern OpenGL.pdf">Download PDF</a>
    </div>

    <!--
       Target Audience: You used OpenGL back in the day and want to catch up.
       Disclaimer: won't go through everything.  Not necessarily focused on GLSL or on techniques.  This isn't comprehensive either.
       If this goes well then I might give more talks (GLSL for shading TD's, OpenGL Techniques)
      -->
      <div class="slide">
      <!-- Sweet hot-pink Gradient stolen from @mojombo's prezos
           Alas, Chrome's print-to-pdf shows a grid artifact. :( 
           style="color:#fff; background-image:
                  -webkit-radial-gradient(center center, circle cover, #dd2e72, #d22854)" -->
      <div style="height:200px;display:block">&nbsp;</div>
      <div class="sans"
           style="font-size:1250%;
                  text-align:center;
                  color:#222;
                  line-height:1;
                  font-weight:900;">
        MODERN
      </div>
      <div class="tk-museo-sans"
           style="font-size:830%;
                  text-align:center;
                  line-height:1;
                  margin-top: -30px;
                  color:#222;
                  font-weight:300;">
        OPENGL
      </div>
      <div class="tk-museo-sans"
           style="font-size:400%;
                  text-align:center;
                  color:#222;
                  font-weight:200;">
        A P R I L &nbsp; &nbsp; 2 0 1 2
      </div>
      <div style="position:absolute; display: block;
                  width:525px;
                  height:4px;
                  left:256px;
                  background-color: #222;
                  top:500px;"></div>
    </div>
    <!--div class="slide">
      <p class="cover-page tk-raleway">
        <b class="bluish">Modern</b> OpenGL
      </p>
    </div-->

    <!-- Summary -->
    <div class="slide">
      <ul class="items tk-museo-sans">
        <li>1  Evolution of the OpenGL Pipe</li>
        <li>2  Whirlwind Tour of OpenGL 4.2</li>
        <li>3  Demos & Code Walkthroughs</li>
      </ul>
    </div>

    <!-- Pipeline diagram VS FS -->
    <div class="slide">
      <table style="width:100%;height:100%">
        <tr>
          <td style="width:40%">
            <div class="codewrapper">
              <pre><code class="glsl">// Vertex Shader
varying vec4 vPosition;
varying vec2 vTexCoord;
varying vec3 vNormal;
void main() {
  vPosition = gl_ModelViewMatrix * gl_Vertex;
  vNormal = gl_NormalMatrix * gl_Normal;
  vTexCoord = gl_MultiTexCoord0.st;
  gl_Position = ftransform();
}</code></pre>
            </div>
            <div class="codewrapper">
              <pre><code class="glsl">// Fragment Shader
uniform sampler2D Baboon;
uniform vec3 LightDir;
varying vec2 vTexCoord;
varying vec3 vNormal;
void main() {
  float df = dot(LightDir,vNormal);
  vec3 c = df * texture2D(Baboon, vTexCoord).rgb;
  gl_FragColor = vec4(c, 1);
}</code></pre>
            </div>
          </td>
          <td style="width:40%">
          </td>
          <td>
            <object type="image/svg+xml" class="figure"
                    data="images/Pipeline1.svg">
            </object>
          </td>
        </tr>
      </table>
    </div>

    <!-- Pipeline diagram VS GS FS -->
    <div class="slide">
      <table style="width:100%;height:100%">
        <tr>
          <td style="width:40%">
            <div class="codewrapper">
              <pre><code class="glsl">// Vertex Shader
<span class="HIGH">in</span> vec4 Position;
in vec2 TexCoord;
<span class="HIGH">out</span> vec4 vPosition;
out vec2 vTexCoord;
uniform mat4 ModelViewMatrix, MVP;
void main() {
    vPosition = ModelViewMatrix * Position;
    vTexCoord = TexCoord;
    gl_Position = MVP * Position;
}</code></pre>
            </div>
            <div class="codewrapper">
              <pre><code class="glsl">// Geometry Shader
<span class="HIGH">layout</span>(triangles) in;
layout(triangle_strip, max_vertices = 3) out;
in vec3 vPosition[3];
in vec2 vTexCoord[3];
out vec3 gNormal;
out vec2 gTexCoord;

void main()
{
    vec3 A = vPosition[2] - vPosition[0];
    vec3 B = vPosition[1] - vPosition[0];
    gNormal = normalize(cross(A, B));

    for (int j = 0; j &lt; 3; j++) {
        gTexCoord = vTexCoord[j];
        gl_Position = gl_in[j].gl_Position;
        EmitVertex();
    }
    EndPrimitive();
}</code></pre>
            </div>
          </td>
          <td style="width:40%">
            <div class="codewrapper">
              <pre><code class="glsl">// Fragment Shader
uniform sampler2D Baboon;
uniform vec3 LightDir <span class="HIGH">= vec3(0,0,1)</span>;
in vec2 gTexCoord;
in vec3 gNormal;
void main() {
	float df = dot(LightDir,gNormal);
    vec3 c = df*texture2D(Baboon, gTexCoord).rgb;
    gl_FragColor = vec4(c, 1);
}</code></pre>
            </div>
          </td>
          <td>
            <object type="image/svg+xml" class="figure"
                    data="images/Pipeline2.svg">
            </object>
          </td>
        </tr>
      </table>
    </div>

    <!-- Pipeline diagram VS TCS TESS TES GS FS -->
    <!-- Not going to get this functionality on Lion! -->
    <div class="slide">
      <table style="width:100%;height:100%">
        <tr>
          <td style="width:40%">
            <div class="codewrapper">
              <pre><code class="glsl">// Vertex Shader
in vec4 Position;
in vec2 TexCoord;
out vec4 vPosition;
out vec2 vTexCoord;
uniform mat4 ModelViewMatrix, MVP;
void main() {
    vPosition = ModelViewMatrix * Position;
    vTexCoord = TexCoord;
    gl_Position = MVP * Position;
}</code></pre>
            </div>
            <div class="codewrapper">
              <pre><code class="glsl">// Tessellation Control Shader
layout(triangles) in;
layout(triangle_strip, max_vertices = 3) out;
in vec3 vPosition[3];
in vec2 vTexCoord[3];
out vec3 gNormal;
out vec2 gTexCoord;

void main()
{
    for (int j = 0; j &lt; 3; j++) {
        gTexCoord = vTexCoord[j];
        gl_Position = gl_in[j].gl_Position;
        EmitVertex();
    }
    EndPrimitive();
}</code></pre>
            </div>
            <div class="codewrapper">
              <pre><code class="glsl">// Tessellation Evaluation Shader
uniform sampler2D Baboon;
in vec2 gTexCoord;
in vec3 gNormal;

void main() {
	float df = dot(vec3(0,0,1),gNormal);
    vec3 c = df*texture2D(Baboon, gTexCoord).rgb;
    gl_FragColor = vec4(c, 1);
}</code></pre>
            </div>
          </td>
          <td style="width:40%">
            <div class="codewrapper">
              <pre><code class="glsl">// Geometry Shader
layout(triangles) in;
layout(triangle_strip, max_vertices = 3) out;
in vec3 vPosition[3];
in vec2 vTexCoord[3];
out vec3 gNormal;
out vec2 gTexCoord;

void main()
{
    vec3 A = vPosition[2] - vPosition[0];
    vec3 B = vPosition[1] - vPosition[0];
    gNormal = normalize(cross(A, B));

    for (int j = 0; j &lt; 3; j++) {
        gTexCoord = vTexCoord[j];
        gl_Position = gl_in[j].gl_Position;
        EmitVertex();
    }
    EndPrimitive();
}</code></pre>
            </div>
            <div class="codewrapper">
              <pre><code class="glsl">// Fragment Shader
# LOOK AT BARREL DISTORTATION.
# USE CHRISTOPHE'S INTERFACES.
# EXPLICIT BINDINGS.
uniform sampler2D Baboon;
uniform vec3 LightDir = vec3(0,0,1);
in vec2 gTexCoord;
in vec3 gNormal;
void main() {
	float df = dot(LightDir,gNormal);
    vec3 c = df*<span class="HIGH">texture</span>(Baboon, gTexCoord).rgb;
    gl_FragColor = vec4(c, 1);
}</code></pre>
            </div>
          </td>
          <td>
            <object type="image/svg+xml" class="figure"
                    data="images/Pipeline3.svg">
            </object>
          </td>
        </tr>
      </table>
    </div>

    <!-- Forward Compatible -->
    <div class="slide">
      <table style="width:100%;height:100%">
        <tr><td align="center">
            <div class="codewrapper" style="font-size:120%;width:90%;text-align:left;margin-top:50px">
              <pre><code class="cpp">QGLFormat format;
format.setVersion(4,0);
format.setProfile(QGLFormat::CoreProfile);
QGLWidget *myWidget = new QGLWidget(format);</code></pre>
            </div>
            <div class="codewrapper" style="font-size:120%;width:90%;text-align:left;margin-top:50px">
              <pre><code class="cpp">int attribs[] = {
    GLX_CONTEXT_MAJOR_VERSION_ARB, 4,
    GLX_CONTEXT_MINOR_VERSION_ARB, 0,
    GLX_CONTEXT_FLAGS_ARB, GLX_CONTEXT_FORWARD_COMPATIBLE_BIT_ARB,
    NULL
};
GLXContext glc = glXCreateContextAttribs(diplay, config, NULL, True, attribs);</code></pre>
            </div>
            <div  class="tk-museo-sans"
                  style="font-size:800%;
                         font-weight:900;
                         color:#333;
                         margin-top:100px;
                         text-align:center">
              Core Profile
            </div>
        </td></tr>
      </table>
    </div>

    <!-- This is a bit of a religious debate -->
    <div class="slide">
      <a href="http://www.wordle.net/show/wrdl/5094008/Deprecated_GLSL" 
         style="position:absolute; display: block;
                left:25px; top:20px;"
         title="Wordle: Deprecated GLSL"><object type="image/svg+xml"
                data="images/Deprecated-GLSL.svg">
        </object></a>
      <div class="tk-museo-sans"
           style="position:absolute; display: block;
                  font-size:800%;
                  font-weight:900;
                  left:800px; top:90px;
                  -webkit-transform-origin: 800 90;
                  -webkit-transform: rotate(90deg);">
        OLD
      </div>
      <div style="position:absolute; display: block;
                  width:100%;
                  height:4px;
                  background-color: #333;                  
                  left:0px; top:360px;">
        &nbsp;
      </div>
      <a href="http://www.wordle.net/show/wrdl/5094039/Modern_GLSL" 
         style="position:absolute; display: block;
                left:25px; bottom:50px;"
         title="Wordle: Modern GLSL"><object type="image/svg+xml"
                data="images/Modern-GLSL.svg">
        </object>
      </a>
      <div class="tk-museo-sans"
           style="position:absolute; display: block;
                  font-size:800%;
                  font-weight:900;
                  left:780px; top:480px;
                  -webkit-transform-origin: 780 480;
                  -webkit-transform: rotate(90deg);">
        NEW
      </div>
    </div>

    <!-- OLD Transform Feedback, Interleaved (known as stream-out to game devs) -->
    <div class="slide">
      <table>
        <tr style="width:100%;height:100%">
          <td>
            <div class="codewrapper" style="font-size:80%;width:95%">
              <pre><code class="glsl">// This goes after glCompileShader but before glLinkProgram...
const char* varyings[3] = { "vPosition", "vBirthTime", "vVelocity" };
glTransformFeedbackVaryings(programHandle, 3, varyings,
                            GL_INTERLEAVED_ATTRIBS);

// Create a query object for transform feedback:
glGenQueries(1, &amp;PrimsWritten);

// Create VBO for input on even frames and output on odd frames:
glGenBuffers(1, &amp;BufferA);
glBindBuffer(GL_ARRAY_BUFFER, BufferA);
glBufferData(GL_ARRAY_BUFFER, sizeof(seed_data), &amp;seed_data[0], GL_STREAM_DRAW);

// Create VBO for output on even frames and input on odd frames:
glGenBuffers(1, &amp;BufferB);
glBindBuffer(GL_ARRAY_BUFFER, BufferB);
glBufferData(GL_ARRAY_BUFFER, sizeof(seed_data), 0, GL_STREAM_DRAW);</code></pre>
            </div>
            <div class="codewrapper" style="font-size:80%;width:95%">
              <pre><code class="glsl">glEnable(GL_RASTERIZER_DISCARD);
glBindBuffer(GL_ARRAY_BUFFER, BufferA);                     // Source VBO
glVertexAttribPointer(...);
glBindBufferBase(GL_TRANSFORM_FEEDBACK_BUFFER, 0, BufferB); // Dest VBO
glBeginTransformFeedback(GL_POINTS);
glBeginQuery(GL_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN, PrimsWritten);
glDrawArrays(GL_POINTS, 0, inCount);
glEndTransformFeedback();
glEndQuery(GL_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN);
glGetQueryObjectuiv(Query, GL_QUERY_RESULT, &amp;outCount);

swap(BufferA, BufferB);

glDisable(GL_RASTERIZER_DISCARD);
glBindBuffer(GL_ARRAY_BUFFER, BufferA);
glVertexAttribPointer(...);
glDrawArrays(GL_POINTS, 0, outCount);</code></pre></div>
          </td>
          <td style="width:10%"></td>
          <td rowspan="2">
            <object type="image/svg+xml" class="figure"
                    data="images/Pipeline4.svg">
            </object>
          </td>
        </tr>
        <tr>
          <td>
            <div class="tk-museo-sans" style="font-size:200%;font-weight:800;text-align:center">
              <span>Old</span> Transform Feedback (Interleaved)
            </div>
          </td>
          <td></td>
        </tr>
      </table>
    </div>

    <!-- OLD Transform Feedback, Separate -->
    <div class="slide">
      <table>
        <tr style="width:100%;height:100%">
          <td>
            <div class="codewrapper" style="font-size:75%;width:100%">
              <pre><code class="glsl">// This goes after glCompileShader but before glLinkProgram...
const char* varyings[2] = { "vPosition", "vBirthTime" };
glTransformFeedbackVaryings(programHandle, 2, varyings,
                            <span class="HIGH">GL_SEPARATE_ATTRIBS</span>);

// Create a query object for transform feedback:
glGenQueries(1, &amp;PrimsWritten);

// Create VBOs for input on even frames and output on odd frames:
glGenBuffers(1, &amp;Buffer0A);
glBindBuffer(GL_ARRAY_BUFFER, Buffer0A);
glGenBuffers(1, &amp;Buffer1A);
glBindBuffer(GL_ARRAY_BUFFER, Buffer1A);

// Create VBOs for output on even frames and input on odd frames:
glGenBuffers(1, &amp;Buffer0B);
glBindBuffer(GL_ARRAY_BUFFER, Buffer0B);
glGenBuffers(1, &amp;Buffer1B);
glBindBuffer(GL_ARRAY_BUFFER, Buffer1B);</code></pre>
            </div>
            <div class="codewrapper" style="font-size:75%;width:100%">
              <pre><code class="glsl">glEnable(GL_RASTERIZER_DISCARD);

glBindBuffer(GL_ARRAY_BUFFER, Buffer0A);                     // Source VBO
glVertexAttribPointer(...);
glBindBuffer(GL_ARRAY_BUFFER, Buffer1A);                     // Source VBO
glVertexAttribPointer(...);
glBindBufferBase(GL_TRANSFORM_FEEDBACK_BUFFER, 0, Buffer0B); // Dest VBO
glBindBufferBase(GL_TRANSFORM_FEEDBACK_BUFFER, 1, Buffer1B); // Dest VBO
glBeginTransformFeedback(GL_POINTS);
glBeginQuery(GL_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN, PrimsWritten);
glDrawArrays(GL_POINTS, 0, inCount);
glEndTransformFeedback();
glEndQuery(GL_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN);
glGetQueryObjectuiv(Query, GL_QUERY_RESULT, &amp;outCount);

swap(Buffer0A, Buffer0B);
swap(Buffer1A, Buffer1B);

glDisable(GL_RASTERIZER_DISCARD);
glBindBuffer(GL_ARRAY_BUFFER, Buffer0A);
glVertexAttribPointer(...);
glBindBuffer(GL_ARRAY_BUFFER, Buffer1A);
glVertexAttribPointer(...);
glDrawArrays(GL_POINTS, 0, outCount);</code></pre></div>
          </td>
          <td style="width:10%"></td>
          <td rowspan="2">
            <object type="image/svg+xml" class="figure"
                    data="images/Pipeline4.svg">
            </object>
          </td>
        </tr>
        <tr>
          <td>
            <div class="tk-museo-sans"
                 style="position:absolute; display: block;
                        left:550px; bottom:50px;
                        font-size:200%;
                        font-weight:800;">
              <span>Old</span> Transform Feedback (Separate)
            </div>
          </td>
          <td></td>
        </tr>
      </table>
    </div>

    <!-- NEW Transform Feedback -->
    <div class="slide">
      <table>
        <tr style="width:100%;height:100%">
          <td>
            <div class="codewrapper" style="font-size:80%;width:100%">
              <pre><code class="glsl">// This goes after glCompileShader but before glLinkProgram...
const char* varyings[4] = { "vPosition", "<span class="HIGH">gl_NextBuffer</span>", "vBirthTime", "vVelocity" };
glTransformFeedbackVaryings(programHandle, 4, varyings,
                            <span class="HIGH">GL_INTERLEAVED_ATTRIBS</span>);

// Create a query object for transform feedback:
glGenQueries(1, &amp;PrimsWritten);

// Create VBO for input on even frames and output on odd frames:
glGenBuffers(1, &amp;BufferA);
glBindBuffer(GL_ARRAY_BUFFER, BufferA);
glBufferData(GL_ARRAY_BUFFER, sizeof(seed_data), &amp;seed_data[0], GL_STREAM_DRAW);

// Create VBO for output on even frames and input on odd frames:
glGenBuffers(1, &amp;BufferB);
glBindBuffer(GL_ARRAY_BUFFER, BufferB);
glBufferData(GL_ARRAY_BUFFER, sizeof(seed_data), 0, GL_STREAM_DRAW);</code></pre>
            </div>
            <div class="codewrapper" style="font-size:80%;width:100%">
              <pre><code class="glsl">glEnable(GL_RASTERIZER_DISCARD);
glBindBuffer(GL_ARRAY_BUFFER, BufferA);                     // Source VBO
glBindBufferBase(GL_TRANSFORM_FEEDBACK_BUFFER, 0, BufferB); // Dest VBO
glBeginTransformFeedback(GL_POINTS);
glBeginQuery(GL_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN, PrimsWritten);
glDrawArrays(GL_POINTS, 0, inCount);
glEndTransformFeedback();
glEndQuery(GL_TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN);
glGetQueryObjectuiv(Query, GL_QUERY_RESULT, &amp;outCount);

swap(BufferA, BufferB);

glDisable(GL_RASTERIZER_DISCARD);
glBindBuffer(GL_ARRAY_BUFFER, BufferA);
glDrawArrays(GL_POINTS, 0, outCount);</code></pre></div>
          </td>
          <td style="width:10%"></td>
          <td rowspan="2">
            <object type="image/svg+xml" class="figure"
                    data="images/Pipeline5.svg">
            </object>
          </td>
        </tr>
        <tr>
          <td>
            <div class="tk-museo-sans" style="font-size:300%;font-weight:800;text-align:center">
              <span>New</span> Transform Feedback
            </div>
          </td>
          <td></td>
        </tr>
      </table>
    </div>

    <!-- TYPE ELEMENTS -->
    <div class="slide">
      <style>
table.bordered {
    margin:auto;
    margin-top:100px;
    font-size:150%;
    color: #555555;
}

.bordered tr:hover {
    background: #fbf8e9;
}    

.bordered td, .bordered th {
    padding: 10px;
    text-align: center;    
    border-radius: 0px 0px 0 0;
}

.bordered th:first-child {
    border-radius: 16px 0 0 0;
}

.bordered th:last-child {
    border-radius: 0 16px 0 0;
}

.bordered th {
    background-color: #dce9f9;
    color: #111111;
}

.bordered tr {
    border-left: 1px solid #ccc;
    border-right: 1px solid #ccc;
    border-bottom: 1px solid #ccc;
}

.bordered thead > tr:first-child {
    border-left: none;
    border-right: none;
}

.bordered tr > td:first-child {
    font-weight: 700;
}

      </style>
      <table style="width:100%;height:100%"><tr><td style="align:center">
      <table class="bordered tk-museo-sans">
        <thead>
          <tr>
            <th></th>
            <th>vert in</th>
            <th>varying</th>
            <th>frag out</th>
            <th>uniform</th>
          </tr>
        </thead>
        <tr>
          <td>scalar</td>
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
        </tr>
        <tr>
          <td>vector</td>
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
        </tr>
        <tr>
          <td>matrix</td>
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
        </tr>
        <tr>
          <td>array</td>
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
        </tr>
        <tr>
          <td>structure</td>
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
        </tr>
        <tr style="background-color:#fbf8e9">
          <td>samplers</td>
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
        </tr>
        <tr style="background-color:#fbf8e9">
          <td>images</td>
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
        </tr>
        <tr style="background-color:#fbf8e9">
          <td>atomic counters</td>
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
        </tr>
        <tr>
          <td>block</td>
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
          <td style="color:#700000">&#x2716;</td> <!-- no  -->
          <td style="color:#007000">&#x2714;</td> <!-- yes -->
        </tr>
      </table>
      <!-- Cool Mac Fonts Avaiable in Inkscape: nanum pen script, STHeiti -->
      <img src="images/TypesTable2.svg"
           alt="Notes"
           style="position:absolute;
                  left:0px;
                  top:40px;
                  display: block;"/>
      </td></tr></table>
    </div>

    <!-- BLOCKS -->
    <div class="slide">
      <object type="image/svg+xml" class="figure"
              data="images/Blocks2.svg">
      </object>
      <table style="width:90%;margin:auto">
        <tr>
          <td style="width:50%">
            <div class="codewrapper">
              <pre><code class="glsl"><span class="DIVIDER">-- Vertex Shader</span>

out MyBlock {
    vec3 Position;
    vec3 Color[2];
    float Opacity;
} Out;

<span class="DIVIDER">-- Geometry Shader</span>

in MyBlock {
    vec3 Position;
    vec3 Color[2];
    float Opacity;
} In[];</code></pre></div>
          </td>
          <td>
            <div class="codewrapper">
              <pre><code class="glsl"><span class="DIVIDER">-- Vertex Shader</span>

// Built-ins:
out gl_PerVertex {
    vec4 gl_Position;
    float gl_PointSize;
    float gl_ClipDistance[];
};

// User-defined:
in MyBlock {
    float w;
} In;

void main()
{
    gl_Position = vec4(1, 0, 0, In.w);
}
</code></pre></div>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <div class="codewrapper">
              <pre><code class="cpp"><span class="DIVIDER">// Application code</span>
GLuint i = glGetAttribLocation(program, "MyBlock.w");
</code></pre></div>
          </td>
        </tr>
      </table>
    </div>

    <!-- BINDING VERTEX ATTRIBS -->
    <div class="slide" style="font-size:120%">
      <table style="width:90%;margin:auto">
        <tr>
          <td style="width:50%">
            <div class="centerwrapper">
              <pre><code class="cpp">// Let the compiler decide
GLuint foo = glGetAttribLocation(program, "MyBlock.w");              </code></pre>
            </div>
          </td>
        </tr>
      </table>

      <table style="width:90%;margin:auto">
        <tr>
          <td style="width:50%">
            <div class="centerwrapper">
              <pre><code class="cpp">// Specify in application code
GLuint foo = 3;

glCompileShader(vsHandle);
glAttachShader(programHandle, vsHandle);
glBindAttribLocation(programHandle, foo, "MyBlock.w");
glLinkProgram(programHandle);              </code></pre>
            </div>
          </td>
        </tr>
      </table>

      <table style="width:90%;margin:auto">
        <tr>
          <td style="width:50%">
            <div class="centerwrapper">
              <pre><code class="glsl">// Declare in GLSL
in MyBlock {
    layout(location = 3) vec3 w;
}              </code></pre>
            </div>
          </td>
        </tr>
      </table>
      <div  class="tk-museo-sans"
            style="font-size:240%;
                   font-weight:900;
                   color:#333;
                   text-align:center">
        Binding Vertex Attributes
      </div>

      <table style="width:90%;margin:auto">
        <tr>
          <td style="width:50%">
            <div class="centerwrapper">
              <pre><code class="cpp">GLuint vao;
glGenVertexArrays(1, &vao);
glBindVertexArray(vao);
glBindBuffer(GL_ARRAY_BUFFER, vbo);
glVertexAttribPointer(foo, 1, GL_FLOAT, GL_FALSE, stride, 0);
glEnableVertexAttribArray(foo);</code></pre></div>
          </td>
        </tr>
      </table>
    </div>

    <!-- Fragment Outputs -->
    <div class="slide" style="font-size:120%">
      <table style="width:90%;margin:auto">
        <tr>
          <td style="width:50%">
            <div class="centerwrapper">
              <pre><code class="cpp">// Let the compiler decide
GLuint colorNumber = glGetFragDataLocation(program, "MyColorVariable");
</code></pre>
            </div>
          </td>
        </tr>
      </table>
      <table style="width:90%;margin:auto">
        <tr>
          <td style="width:50%">
            <div class="centerwrapper">
              <pre><code class="cpp">// Specify in application code
GLuint colorNumber = 3;
glBindFragDataLocation(programHandle, colorNumber, "MyColorVariable");
</code></pre>
            </div>
          </td>
        </tr>
      </table>
      <table style="width:90%;margin:auto">
        <tr>
          <td style="width:50%">
            <div class="centerwrapper">
              <pre><code class="glsl">// Declare in GLSL
layout(location = 3) out vec4 factor;</code></pre>
            </div>
          </td>
        </tr>
      </table>
      <div  class="tk-museo-sans"
            style="font-size:240%;
                   font-weight:900;
                   color:#333;
                   text-align:center">
        Binding Fragment Outputs
      </div>
      <table style="width:90%;margin:auto">
        <tr>
          <td style="width:50%">
            <div class="centerwrapper">
              <pre><code class="cpp"> // Beware, a level of indirection!
glBindFramebuffer(GL_DRAW_FRAMEBUFFER, myFbo);

GLenum buffers[] = {GL_COLOR_ATTACHMENT0, GL_COLOR_ATTACHMENT1};
glDrawBuffers(2, &buffers[0]);</code></pre>
            </div>
          </td>
        </tr>
      </table>
    </div>

    <!-- DODO BIRD -->
    <div class="slide tk-museo-sans"
         style="font-size:500%;
                font-weight:900;
                text-align:center;
                color:#333;">
      <br/>
      gl_FragColor
      <br/>
      gl_FragData[<i>n</i>]
      <br/><br/> 
      <img src="images/dodo-bird.gif" alt="extinct"/>

      <!--
      gl_SampleMask
      layout(early_fragment_tests) in;
      layout (depth_greater) out float gl_FragDepth; // relates to gl_FragCoord.z
                                                     // assume it may be modified such that its value will only increase
        -->
    </div>

    <!-- Depth -->
    <div class="slide tk-museo-sans"
         style="font-size:200%;
                font-weight:900;
                color:#333;">
      <table style="margin-left:150px;margin-top:170px"><tr><td>
      <br/>
      in vec4 gl_FragCoord;
      <br/>
      <br/>
      out float gl_FragDepth;
      <br/>
      <div style="display:block;width:90%;height:5px;background-color:#333333;margin-top:40px;margin-bottom:40px"></div>
      layout(early_fragment_tests) in;
      <br/>
      <br/>
      layout (depth_greater) out float gl_FragDepth;
      </td></tr></table>
    </div>

    <!-- WORDLE.NET
         Font: SteelFish or Coolvetica, Color: Kindled, Layout: Horizontal -->
    <!--div class="noprint">
      <form action="http://www.wordle.net/advanced" method="POST">
        <textarea name="wordcounts" style="display:none">
          texture2D():50
          ftransform():25
          attribute:100
          varying:100
          gl-FragColor:50
          gl-FragData:50
          gl-ClipPlane:10
          gl-ModelviewProjection:25
          gl-ClipVertex:50
          gl-Color:50
          gl-SecondaryColor:10
          gl-MultiTexCoord0:10
          gl-MultiTexCoord1:10
          gl-MultiTexCoord2:10
          gl-MultiTexCoord3:10
          gl-MultiTexCoord4:10
          gl-MultiTexCoord5:10
          gl-MultiTexCoord6:10
          gl-MultiTexCoord7:10
          gl-FogCoord:10
        </textarea>
        <input type="submit" value="deprecated wordcloud">
      </form>
      <form action="http://www.wordle.net/advanced" method="POST">
        <textarea name="wordcounts" style="display:none">
          gl-ClipDistance[]:10
          texture():50
          textureSize():50
          textureQueryLod():50
          texelFetch():50
          bitfieldExtract():50
          imageLoad():50
          imageStore():50
          imageAtomicAdd():50
          in:200
          out:200
          gl-InvocationID:50
          gl-Layer:50
          gl-ViewportIndex:50
          gl-PrimitiveIDIn:50
          gl-TessLevelInner:50
          gl-TessLevelOuter:50
          layout:100
        </textarea>
        <input type="submit" value="modern wordcloud">
      </form>
    </div-->

    <footer>
    </footer>
    <script src="js/script.js"></script>
  </body>
</html>
